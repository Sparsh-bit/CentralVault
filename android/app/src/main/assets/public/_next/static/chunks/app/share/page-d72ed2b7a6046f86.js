(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{108:function(e,t,a){Promise.resolve().then(a.bind(a,7322))},7322:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(3827),l=a(4090),r=a(7907),n=a(8714),i=a(8994),o=a(699),c=a(2235),d=a(244);function u(){let e=(0,r.useSearchParams)(),t=(0,r.useRouter)(),a=(0,n.createClientComponentClient)(),[u,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[f,m]=(0,l.useState)("Uncategorized"),[y,j]=(0,l.useState)(""),[w,N]=(0,l.useState)(!1),[v,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{let{data:{session:s}}=await a.auth.getSession();if(s)k(!0);else{let a="/share?".concat(e.toString());t.push("/login?return=".concat(encodeURIComponent(a)))}let l=e.get("title")||"",r=e.get("text")||"",n=e.get("url")||"",i=r;!n&&C(r)&&(n=r,i=""),x(l),p(i),b(n)})()},[e]);let C=e=>{try{return new URL(e),!0}catch(e){return!1}},S=async()=>{if(u||g){N(!0);try{let{data:{user:e}}=await a.auth.getUser(),s=y.split(",").map(e=>e.trim()).filter(e=>""!==e),{error:l}=await a.from("resources").insert({user_id:null==e?void 0:e.id,title:u||(g?"Shared Link":"Shared Note"),content:h,type:g?"link":"note",url:g||null,category:f||"Uncategorized",tags:s});if(l)throw l;t.push("/dashboard?saved=true")}catch(e){console.error("Save failed:",e),alert("Failed to save resource. Please try again.")}finally{N(!1)}}};return v?(0,s.jsxs)("div",{className:"min-h-screen bg-[#050511] text-white flex flex-col",children:[(0,s.jsxs)("header",{className:"px-6 py-6 flex items-center justify-between border-b border-white/5 bg-[#0a0a1a]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center",children:(0,s.jsx)(o.Z,{size:16})}),(0,s.jsx)("h1",{className:"text-lg font-bold",children:"Quick Capture"})]}),(0,s.jsx)("button",{onClick:()=>t.push("/dashboard"),className:"text-gray-500 hover:text-white transition-colors",children:(0,s.jsx)(c.Z,{size:24})})]}),(0,s.jsx)("main",{className:"flex-1 p-6 space-y-6",children:(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-[32px] p-6 space-y-6 shadow-2xl",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 pl-1",children:"Target URL"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600",size:16}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-3.5 pl-12 pr-4 text-sm focus:border-indigo-500 transition-colors outline-none",placeholder:"https://..."})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 pl-1",children:"Title"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-4 px-5 text-lg font-bold focus:border-indigo-500 transition-colors outline-none",placeholder:"Resource Heading"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 pl-1",children:"Notes"}),(0,s.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl p-5 text-sm h-40 resize-none focus:border-indigo-500 transition-colors outline-none",placeholder:"Add your thoughts or snippets here..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 pl-1",children:"Category"}),(0,s.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-3 px-5 text-sm focus:border-indigo-500 transition-colors outline-none",placeholder:"e.g. Work, Tech"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-gray-500 pl-1",children:"Tags"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-2xl py-3 px-5 text-sm focus:border-indigo-500 transition-colors outline-none",placeholder:"coding, react..."})]})]})]})}),(0,s.jsx)("footer",{className:"p-6 bg-[#0a0a1a] border-t border-white/5",children:(0,s.jsx)("button",{onClick:S,disabled:w,className:"w-full bg-white text-black py-4 rounded-2xl font-black text-lg flex items-center justify-center gap-2 hover:bg-gray-200 active:scale-95 transition-all shadow-xl shadow-white/5",children:w?(0,s.jsx)(i.Z,{className:"animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{size:20}),"Commit to Vault"]})})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#050511]",children:(0,s.jsx)(i.Z,{className:"animate-spin text-indigo-500"})})}function x(){return(0,s.jsx)(l.Suspense,{fallback:(0,s.jsx)("div",{className:"p-4 bg-[#050511] text-white",children:"Initializing Capture..."}),children:(0,s.jsx)(u,{})})}},244:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7461).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},8994:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},699:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},2235:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[828,971,69,744],function(){return e(e.s=108)}),_N_E=e.O()}]);